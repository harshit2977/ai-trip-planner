import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "generate tarvel plan for location: Las Vegas, for 3 days for couple with a cheap budget, Give me a hotels options list with hotelName, hoteladdress, price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placename, placedetails, place image url, geo coordinates, ticket pricing, rating, time travel each of the location for 3 days with each day plan with best time to visit in json format\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON format travel plan for a couple on a budget in Las Vegas for 3 days, including hotel options and a detailed itinerary:\n\n```json\n{\n  \"location\": \"Las Vegas\",\n  \"budget\": \"cheap\",\n  \"duration\": \"3 days\",\n  \"travelers\": \"couple\",\n  \"hotel_options\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hoteladdress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"60-120 USD per night\",\n      \"hotel_image_url\": \"https://media.cntraveler.com/photos/5a80b4a12490b624703c1637/master/w_1600%2Cc_limit/Circus-Circus-Hotel_2017_11310982.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1379,\n        \"longitude\": -115.1636\n      },\n      \"rating\": 3.5,\n      \"descriptions\": \"Budget-friendly hotel with circus-themed attractions, located at the north end of the strip.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hoteladdress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"70-130 USD per night\",\n      \"hotel_image_url\": \"https://media-cdn.tripadvisor.com/media/photo-s/1b/80/25/9e/excalibur-hotel-casino.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.0989,\n        \"longitude\": -115.1741\n      },\n       \"rating\": 4.0,\n      \"descriptions\": \"Medieval-themed hotel with affordable rates, located at the southern end of the strip.\"\n     },\n      {\n      \"hotelName\": \"OYO Hotel and Casino Las Vegas\",\n      \"hoteladdress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"50-100 USD per night\",\n      \"hotel_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/26/5c/e9/2e/oyo-hotel-and-casino-las.jpg?w=700&h=-1&s=1\",\n      \"geo_coordinates\": {\n          \"latitude\": 36.1007,\n        \"longitude\": -115.1689\n      },\n       \"rating\": 3.5,\n       \"descriptions\": \"Formerly known as the Hooters Casino Hotel, offers budget-friendly options, near the strip.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip and Free Attractions\",\n      \"best_time_to_visit\": \"Morning and late afternoon/evening\",\n       \"places\": [\n         {\n          \"placename\": \"The Bellagio Conservatory & Botanical Gardens\",\n           \"placedetails\": \"Beautiful free indoor botanical garden that changes with the seasons.\",\n           \"place_image_url\": \"https://www.bellagio.com/content/dam/MGM/bellagio/master/entertainment/conservatory-botanical-garden/bg-main.jpg\",\n           \"geo_coordinates\": {\n             \"latitude\": 36.1128,\n             \"longitude\": -115.1738\n            },\n          \"ticket_pricing\": \"Free\",\n          \"rating\": 4.8,\n           \"time_travel\": \"5-10 mins from Excalibur, 15-20 mins from Circus Circus\"\n        },\n         {\n            \"placename\": \"Fountains of Bellagio\",\n            \"placedetails\": \"Free synchronized water show with music, a must-see at the Bellagio.\",\n            \"place_image_url\": \"https://cdn.britannica.com/79/142079-050-09DF7AB5/Bellagio-Hotel-and-Casino-Las-Vegas-Nev.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1128,\n              \"longitude\": -115.1738\n           },\n            \"ticket_pricing\": \"Free\",\n            \"rating\": 4.9,\n             \"time_travel\": \"5 mins walk from bellagio conservatory\"\n          },\n        {\n         \"placename\": \"Walk the Las Vegas Strip\",\n          \"placedetails\": \"Stroll the famous strip and experience its unique architecture and atmosphere\",\n           \"place_image_url\":\"https://media.cntraveler.com/photos/5a80356f66f08b76521f01d3/master/w_1920%2Cc_limit/Las-Vegas-Strip-GettyImages-828402724.jpg\",\n          \"geo_coordinates\": {\n               \"latitude\": 36.1162,\n                \"longitude\": -115.1717\n          },\n          \"ticket_pricing\": \"Free\",\n          \"rating\": 4.7,\n          \"time_travel\": \"Walking distance from Bellagio\"\n        },\n         {\n            \"placename\": \"Fremont Street Experience\",\n            \"placedetails\":\"Light show with a pedestrian mall.  Great for a walk and photo taking.\",\n            \"place_image_url\": \"https://cdn.travelpulse.com/images/7b2b3627-176a-4e86-b71f-0e199e55bb50/5f8d758a-c01b-4c99-be97-0bb64356f85b/630x355.jpg\",\n            \"geo_coordinates\": {\n                 \"latitude\": 36.1704,\n                  \"longitude\": -115.1400\n             },\n             \"ticket_pricing\": \"Free\",\n              \"rating\": 4.6,\n              \"time_travel\": \"20-25 mins drive from the strip\"\n\n          }\n        ]\n      },\n    \"day2\": {\n        \"theme\": \"Downtown Exploration and Cultural Gems\",\n        \"best_time_to_visit\": \"Morning to afternoon\",\n        \"places\": [\n          {\n             \"placename\":\"The Neon Museum\",\n            \"placedetails\": \"Unique museum featuring iconic vintage signs from old Las Vegas casinos and businesses. (Consider booking tickets in advance)\",\n            \"place_image_url\": \"https://assets.simpleviewinc.com/simpleview/image/upload/c_fill,h_680,q_75,w_1024/v1/clients/lasvegas/neon_museum_boneyard_sign_1050_x_700_0a9130c3-d53b-4a1c-986c-4c8287603060.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1709,\n             \"longitude\": -115.1416\n           },\n           \"ticket_pricing\": \"20-30 USD per person\",\n            \"rating\": 4.7,\n            \"time_travel\": \"5 mins drive from Fremont St\"\n         },\n         {\n            \"placename\": \"Gold & Silver Pawn Shop (Pawn Stars)\",\n           \"placedetails\": \"Famous pawn shop from the TV show, a quick visit for fans.\",\n            \"place_image_url\": \"https://www.reviewjournal.com/wp-content/uploads/2018/08/10933638_web1_0809_pawn_star_008.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1600,\n                \"longitude\": -115.1550\n            },\n            \"ticket_pricing\": \"Free to visit, items for sale are extra\",\n             \"rating\": 4.0,\n              \"time_travel\": \"10-15 mins drive from The Neon Museum\"\n          },\n          {\n              \"placename\":\"Container Park\",\n             \"placedetails\":\"Unique shopping and entertainment area constructed from shipping containers\",\n             \"place_image_url\":\"https://www.lasvegasadvisor.com/wp-content/uploads/2021/01/container-park-las-vegas.jpg\",\n              \"geo_coordinates\": {\n                 \"latitude\": 36.1663,\n                 \"longitude\": -115.1377\n               },\n              \"ticket_pricing\":\"Free\",\n              \"rating\":4.3,\n               \"time_travel\": \"10 mins drive from Gold & Silver Pawn Shop\"\n          }\n        ]\n     },\n     \"day3\": {\n        \"theme\": \"Nature and South Strip Exploration\",\n       \"best_time_to_visit\": \"Morning and afternoon\",\n       \"places\": [\n          {\n             \"placename\":\"Red Rock Canyon National Conservation Area\",\n            \"placedetails\": \"Scenic drives and trails, beautiful views of red rocks. (Entrance fee applies, consider carpooling or look for free shuttle options from Vegas)\",\n              \"place_image_url\":\"https://www.nps.gov/redr/planyourvisit/images/Red-Rock-scenic-loop-drive.jpg?maxwidth=1300&maxheight=900&autorotate=false\",\n              \"geo_coordinates\": {\n                   \"latitude\": 36.1362,\n                   \"longitude\": -115.4178\n               },\n             \"ticket_pricing\": \"15-20 USD per vehicle\",\n             \"rating\": 4.8,\n             \"time_travel\": \"30-40 mins drive from Las Vegas Strip\"\n          },\n          {\n             \"placename\":\"Welcome to Fabulous Las Vegas Sign\",\n             \"placedetails\": \"Iconic sign, great photo opportunity.\",\n             \"place_image_url\":\"https://www.planetware.com/wpimages/2020/01/las-vegas-nevada-best-attractions-welcome-sign.jpg\",\n              \"geo_coordinates\": {\n                  \"latitude\": 36.0828,\n                  \"longitude\": -115.1701\n                },\n             \"ticket_pricing\":\"Free\",\n             \"rating\": 4.6,\n               \"time_travel\": \"30-40 mins drive from Red Rock Canyon\"\n            },\n          {\n           \"placename\":\"M&M's World\",\n           \"placedetails\": \"Four stories of M&M's fun, great for novelty and gift ideas.\",\n           \"place_image_url\":\"https://media-cdn.tripadvisor.com/media/photo-s/10/0d/48/05/m-m-s-world.jpg\",\n           \"geo_coordinates\": {\n                 \"latitude\": 36.1096,\n                 \"longitude\": -115.1708\n              },\n             \"ticket_pricing\": \"Free to enter, items for sale are extra\",\n              \"rating\":4.3,\n            \"time_travel\": \"10 mins drive from Welcome to Fabulous Las Vegas Sign\"\n          }\n        ]\n      }\n   }\n}\n```\n**Notes:**\n\n*   **Hotel Prices:** These are estimates and can fluctuate depending on the season and availability.\n*   **Food:** To keep costs down, consider eating at affordable diners, grab-and-go places, and taking advantage of hotel breakfasts.\n*   **Transportation:** Use walking, buses, or ride-sharing services. Consider a day pass for the bus if you plan to use it frequently.\n*   **Flexibility:** This is a suggested plan; feel free to customize it to your interests. Check websites for opening hours and any ticketing requirements.\n*   **Reservations:** It is recommended that you reserve your stay and attraction tickets ahead of your trip, especially if it falls on weekends or holidays.\n*   **Free activities:** Several attractions in Las Vegas are free such as Fountains of Bellagio and walking on the Strip. Be sure to check out these options.\n*   **Budget**: Consider the free activities to lower your budget. There are many free options in Las Vegas.\n*   **Time Travel**: Time travel in the itinerary is an estimate, it could vary based on traffic, mode of transport and parking.\n\nThis detailed plan should provide a great foundation for an enjoyable and budget-friendly trip to Las Vegas. Have a fantastic time!\n"},
          ],
        },
      ],
    });
  
  